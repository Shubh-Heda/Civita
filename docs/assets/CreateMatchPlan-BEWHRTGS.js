var de=Object.defineProperty;var me=(m,s,a)=>s in m?de(m,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):m[s]=a;var P=(m,s,a)=>me(m,typeof s!="symbol"?s+"":s,a);var F=(m,s,a)=>new Promise((l,n)=>{var i=o=>{try{c(a.next(o))}catch(d){n(d)}},t=o=>{try{c(a.throw(o))}catch(d){n(d)}},c=o=>o.done?l(o.value):Promise.resolve(o.value).then(i,t);c((a=a.apply(m,s)).next())});import{r as h,j as e}from"./ui-vendor-nuurtrVt.js";import{c as he,n as D,I as pe,B as y,g as xe,j as I,r as ue,U as ge,X as W,s as be,h as C}from"./index-Dp-8Rdet.js";import{B as k}from"./badge-CktKq16L.js";import{T as ye}from"./textarea-RCLOGW2D.js";import{A as _}from"./AnimatedBackground-Nm_mRJ04.js";import{c as q,a as je}from"./communityService-DbeEVpob.js";import{n as fe}from"./notificationService-DVWENmHJ.js";import{A as Ne}from"./arrow-left-3xricN8T.js";import{S as ve}from"./search-Bx3OrlZp.js";import{M as U}from"./map-pin-dgmPVUiH.js";import{C as R}from"./chevron-right-9gat21cv.js";import{C as we}from"./credit-card-BSkzq1jw.js";import{P as De}from"./plus-DEMvRL5u.js";import{S as ke}from"./send-CrWsU_NL.js";import"./react-vendor-DwRCIQB9.js";import"./animation-vendor-BS_UIQcx.js";import"./supabase-vendor-FQ_Qbeq7.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Me=he("dollar-sign",Ce);function Se(){return new Date().toISOString().split("T")[0]}function Te(){return Se()}function $e(m){return new Date(m).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function Pe(m){const s=new Date(m),a=new Date,l=new Date(a);return l.setDate(l.getDate()+1),a.setHours(0,0,0,0),l.setHours(0,0,0,0),s.setHours(0,0,0,0),s.getTime()===a.getTime()?"Today":s.getTime()===l.getTime()?"Tomorrow":$e(m)}function Ie(m=7){const s=[],a=new Date;for(let l=0;l<m;l++){const n=new Date(a);n.setDate(a.getDate()+l);const i=n.toISOString().split("T")[0],t=Pe(i);s.push({date:i,label:t})}return s}class Re{calculatePricing(s,a,l,n,i=1){const t=s*i;return{turfCostPerHour:s,currentPlayerCount:a,minPlayersRequired:l,maxPlayersAllowed:n,costPerPlayer:{current:this.roundToNearestRupee(t/Math.max(a,1)),atMin:this.roundToNearestRupee(t/l),atMax:this.roundToNearestRupee(t/n)},totalCost:{current:t,atMin:t,atMax:t},paymentOptions:this.getPaymentOptions()}}getPaymentOptions(){return[{id:"direct_split",name:"ðŸ’³ Pay Directly (Split Equally)",description:"Pay when you confirm your spot",timing:"upfront",organizesPays:0,icon:"ðŸ’³",pros:["Clear cost upfront","Everyone pays fairly","No surprises at deadline"],cons:["Must pay immediately to confirm","Exact cost varies with final headcount"]},{id:"deadline_split",name:"â±ï¸ Pay at Deadline (Split Equally)",description:"Payment triggered when deadline arrives",timing:"at_deadline",organizesPays:0,icon:"â±ï¸",pros:["Flexible joining until deadline","Equal split among all players","Fair to everyone"],cons:["Automatic charge at deadline","Cost per person varies until deadline","Risk of losing spot if not paid"]},{id:"organizer_covers",name:"ðŸŽ¯ Organizer Covers All",description:"Organizer pays the full cost",timing:"upfront",organizesPays:100,icon:"ðŸŽ¯",pros:["Simplest for players","No payment required from players","Easy group participation"],cons:["Organizer bears all cost","No cost-sharing benefit"]},{id:"tiered_pricing",name:"ðŸ“Š Tiered Pricing",description:"Cost per person decreases as more join",timing:"at_deadline",organizesPays:0,icon:"ðŸ“Š",pros:["Incentivizes group participation","Cheaper when more people join","Fair dynamic pricing"],cons:["Final cost per person unknown until deadline","Requires clear communication upfront"]}]}generatePricingFormula(s,a,l,n){const i=this.roundToNearestRupee(s/a),t=this.roundToNearestRupee(s/l),c=this.roundToNearestRupee(s/n);return{formula:`ðŸ’° **Cost per person** = Total Turf Cost Ã· Number of Players

**Cost per person** = â‚¹${s} Ã· [Player Count]`,examples:[`ðŸ“Œ With ${a} players: â‚¹${i} per person`,`ðŸ“Œ With ${n} players: â‚¹${c} per person`,`ðŸ“Œ With ${l} players: â‚¹${t} per person (cheapest!)`],disclaimer:"â„¹ï¸ **Cost will be finalized when the deadline is reached.** The exact amount per person depends on how many players ultimately join. The more players, the cheaper for everyone!"}}generateTieredPricing(s,a,l){const n=[],i=Math.ceil((l-a)/3);for(let t=a;t<=l;t+=i){const c=this.roundToNearestRupee(s/t),o=this.roundToNearestRupee(s/a),d=((o-c)/o*100).toFixed(0);n.push({tier:this.getTierLabel(t,a,l),playerCount:`${t} players`,costPerPlayer:c,totalCost:s,savings:parseInt(d)>0?`${d}% cheaper`:"Base price"})}if((l-a)%i!==0){const t=this.roundToNearestRupee(s/l),c=this.roundToNearestRupee(s/a),o=((c-t)/c*100).toFixed(0);n.push({tier:this.getTierLabel(l,a,l),playerCount:`${l} players`,costPerPlayer:t,totalCost:s,savings:`${o}% cheaper! ðŸŽ‰`})}return n}getTierLabel(s,a,l){if(s===a)return"ðŸŸ¢ Minimum";if(s===l)return"ðŸŒŸ Maximum (Best Value)";const n=(s-a)/(l-a)*100;return n<=33?"ðŸŸ¡ Low":n<=66?"ðŸŸ  Medium":"ðŸ”´ High"}calculatePaymentDeadline(s,a=60){const l=new Date,n=(s.getTime()-l.getTime())/(1e3*60*60);let i=90;n<2?i=30:n<6&&(i=60);const t=new Date(s.getTime()-300*1e3),c=new Date(Math.min(t.getTime(),l.getTime()+i*60*1e3));return{deadline:c,hoursUntilMatch:n,paymentWindowDuration:i,reminderSchedule:{sevenDays:new Date(c.getTime()-10080*60*1e3),threeDays:new Date(c.getTime()-4320*60*1e3),oneDay:new Date(c.getTime()-1440*60*1e3),hourly:n<=24}}}formatCurrency(s){return`â‚¹${s.toLocaleString("en-IN")}`}roundToNearestRupee(s){return Math.round(s)}validatePricing(s,a,l,n){const i=[],t=[];return s<=0&&i.push("Turf cost must be greater than 0"),a<1&&i.push("Minimum players must be at least 1"),l<a&&i.push("Maximum players must be at least equal to minimum players"),n>l&&t.push("Current players exceed maximum allowed"),n<a&&n>0&&t.push("Not enough players yet to trigger payment"),{valid:i.length===0,errors:i,warnings:t}}}const Ae=new Re;class Oe{constructor(){P(this,"reminderMap",new Map);P(this,"activeIntervals",new Map)}createReminder(s,a,l){const n=`reminder_${s}_${a}`,i={id:n,matchId:s,userId:a,deadline:l,createdAt:new Date,remindersScheduled:{sevenDays:!0,threeDays:!0,oneDay:!0,hourly:!0},remindersTriggered:{sevenDays:!1,threeDays:!1,oneDay:!1,hourlyTimestamps:[]}};return this.reminderMap.set(n,i),this.scheduleReminders(i),i}scheduleReminders(s){const a=new Date,n=s.deadline.getTime()-a.getTime();if(n<=0)return;const i=[],t=10080*60*1e3;if(n>t){const d=setTimeout(()=>this.triggerReminder(s,"sevenDays"),n-t);i.push(d)}const c=4320*60*1e3;if(n>c){const d=setTimeout(()=>this.triggerReminder(s,"threeDays"),n-c);i.push(d)}const o=1440*60*1e3;if(n>o){const d=setTimeout(()=>this.triggerReminder(s,"oneDay"),n-o);i.push(d)}if(n<=o)this.scheduleHourlyReminders(s,i);else{const d=setTimeout(()=>this.scheduleHourlyReminders(s,[]),n-o);i.push(d)}this.activeIntervals.set(s.id,i)}scheduleHourlyReminders(s,a){const l=[...a],n=new Date,i=s.deadline;if((i.getTime()-n.getTime())/(3600*1e3)>0){const c=setInterval(()=>{const o=new Date;(i.getTime()-o.getTime())/(3600*1e3)<=0?(this.triggerReminder(s,"deadline"),clearInterval(c)):this.triggerReminder(s,"hourly")},36e5);l.push(c),this.activeIntervals.set(s.id,l)}}triggerReminder(s,a){const{matchId:l,userId:n,deadline:i}=s,t=new Date,c=this.calculateTimeRemaining(i),d={sevenDays:{title:"â° Payment Reminder - 7 Days Left!",body:`Your match payment is due in 7 days (${this.formatDate(i)}). Don't miss out! ðŸƒâ€â™‚ï¸`},threeDays:{title:"â° Payment Reminder - 3 Days Left!",body:`Hurry! Your match payment deadline is in 3 days (${this.formatDate(i)}). ðŸƒâ€â™‚ï¸`},oneDay:{title:"â° Urgent: Payment Due Tomorrow!",body:"Your payment is due in 24 hours! Don't lose your spot. âš ï¸"},hourly:{title:"â° Time Running Out!",body:`Payment deadline in ${c}. Secure your spot now! ðŸš¨`},deadline:{title:"âŒ Payment Deadline Reached!",body:"Your spot may be at risk. Complete payment immediately!"}}[a];this.sendNotificationByChannels(n,l,d.title,d.body,a),a==="sevenDays"&&!s.remindersTriggered.sevenDays?s.remindersTriggered.sevenDays=!0:a==="threeDays"&&!s.remindersTriggered.threeDays?s.remindersTriggered.threeDays=!0:a==="oneDay"&&!s.remindersTriggered.oneDay?s.remindersTriggered.oneDay=!0:a==="hourly"&&s.remindersTriggered.hourlyTimestamps.push(t)}sendNotificationByChannels(s,a,l,n,i){try{fe.addNotification({userId:s,type:"payment_reminder",title:l,body:n,matchId:a,actionUrl:`/match/${a}`,timestamp:new Date,read:!1,reminderType:i}),typeof window!="undefined"&&"Notification"in window&&Notification.permission==="granted"&&new Notification(l,{body:n,icon:"ðŸ’°",tag:`payment-reminder-${a}`,requireInteraction:i==="deadline"}),this.queueEmailReminder(s,a,l,n,i),console.log(`[Reminder] ${i.toUpperCase()} sent to ${s} for match ${a}`)}catch(t){console.error(`Failed to send reminder: ${t}`)}}queueEmailReminder(s,a,l,n,i){const t="pending_email_reminders",c=JSON.parse(localStorage.getItem(t)||"[]");c.push({userId:s,matchId:a,title:l,body:n,reminderType:i,queuedAt:new Date().toISOString()}),localStorage.setItem(t,JSON.stringify(c))}calculateTimeRemaining(s){const a=new Date,l=s.getTime()-a.getTime(),n=Math.floor(l/(1e3*60*60*24)),i=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),t=Math.floor(l%(1e3*60*60)/(1e3*60));return n>0?`${n}d ${i}h`:i>0?`${i}h ${t}m`:`${t}m`}formatDate(s){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(s)}getReminder(s,a){const l=`reminder_${s}_${a}`;return this.reminderMap.get(l)}cancelReminders(s,a){const l=`reminder_${s}_${a}`,n=this.activeIntervals.get(l);n&&(n.forEach(i=>{clearTimeout(i),clearInterval(i)}),this.activeIntervals.delete(l)),this.reminderMap.delete(l)}getAllReminders(){return Array.from(this.reminderMap.values())}}const Be=new Oe,Le=[{id:"1",name:"Sky Sports Arena",location:"Satellite, Ahmedabad",sport:"Football",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=400&h=300&fit=crop",price:"â‚¹1500/hr",rating:4.8},{id:"2",name:"Victory Cricket Ground",location:"Maninagar, Ahmedabad",sport:"Cricket",image:"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?w=400&h=300&fit=crop",price:"â‚¹2000/hr",rating:4.7},{id:"3",name:"Hoops Basketball Court",location:"Vastrapur, Ahmedabad",sport:"Basketball",image:"https://images.unsplash.com/photo-1546519638-68e109498ffc?w=400&h=300&fit=crop",price:"â‚¹800/hr",rating:4.6},{id:"4",name:"Elite Football Academy",location:"SG Highway, Ahmedabad",sport:"Football",image:"https://images.unsplash.com/photo-1529900748604-07564a03e7a6?w=400&h=300&fit=crop",price:"â‚¹1800/hr",rating:4.9},{id:"5",name:"Champions Cricket Turf",location:"Naroda, Ahmedabad",sport:"Cricket",image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?w=400&h=300&fit=crop",price:"â‚¹1700/hr",rating:4.5},{id:"6",name:"Urban Basketball Arena",location:"Bodakdev, Ahmedabad",sport:"Basketball",image:"https://images.unsplash.com/photo-1519766304817-4f37bda74a26?w=400&h=300&fit=crop",price:"â‚¹1000/hr",rating:4.7}],Ee=["6:00 AM","7:00 AM","8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM","6:00 PM","7:00 PM","8:00 PM","9:00 PM","10:00 PM"];function at({onNavigate:m,onMatchCreate:s}){var E;const a=Ie(7),l=Te(),[n,i]=h.useState(1),[t,c]=h.useState(null),[o,d]=h.useState(""),[j,z]=h.useState(""),[g,V]=h.useState("10"),[f,H]=h.useState(""),[G,Y]=h.useState(""),[J,Q]=h.useState([]),[b,A]=h.useState([]),[M,O]=h.useState(""),[S,K]=h.useState(""),[X,Z]=h.useState(!1),[u,$]=h.useState("community"),[x,ee]=h.useState("6"),[T,B]=h.useState("5-step"),te=["Friendly","Competitive","Beginner Friendly","High Energy","Chill","Social","Learning","Inclusive"],p=()=>{if(!t)return 0;const r=t.price.replace("â‚¹","").replace("/hr","");return parseInt(r)},se=r=>{Q(N=>N.includes(r)?N.filter(w=>w!==r):[...N,r])},L=()=>{M&&!b.includes(M)&&(A([...b,M]),O(""))},ae=r=>{A(b.filter(N=>N!==r))},re=()=>F(null,null,function*(){Z(!0);const r="match-"+Math.random().toString(36).substr(2,9),N=new Date(`${o} ${j}`),w=Ae.calculatePaymentDeadline(N),ie={id:r,title:f,turfName:(t==null?void 0:t.name)||"",date:o,time:j,sport:(t==null?void 0:t.sport)||"",status:"upcoming",visibility:u,paymentOption:T==="direct"?"Pay Directly":"split",amount:p(),location:(t==null?void 0:t.location)||"",minPlayers:parseInt(x),maxPlayers:parseInt(g),turfCost:p(),paymentDeadline:w.deadline.toISOString()};try{const{data:{user:v}}=yield be.auth.getUser();if(v){Be.createReminder(r,v.id,w.deadline),localStorage.setItem(`match_deadline_${r}`,JSON.stringify({deadline:w.deadline.toISOString(),paymentWindowDuration:w.paymentWindowDuration,createdAt:new Date().toISOString()}));const le=yield q.createRoom({name:`${f} ðŸƒâ€â™‚ï¸`,description:`Group chat for ${f} at ${(t==null?void 0:t.name)||"venue"} on ${o}`,room_type:"match",is_private:u==="private",category:"sports",related_id:r,avatar_url:(t==null?void 0:t.sport)==="Football"?"âš½":(t==null?void 0:t.sport)==="Cricket"?"ðŸ":(t==null?void 0:t.sport)==="Basketball"?"ðŸ€":"ðŸƒâ€â™‚ï¸"}),oe=T==="direct"?`ðŸ’° Cost: â‚¹${p()} total
ðŸ’³ Payment: Direct booking with payment required upfront`:`ðŸ’° Cost: â‚¹${p()} (â‚¹${Math.round(p()/parseInt(x))} per person)
ðŸ’³ Payment: 5-step process - Opens after ${x} players join`;if(yield q.sendMessage(le.id,`ðŸŽ‰ Welcome to ${f}!

ðŸ“ Venue: ${(t==null?void 0:t.name)||"TBD"}
ðŸ“… Date: ${o}
â° Time: ${j}

${oe}

Let's make this match amazing! ðŸš€`,"system"),u==="community")try{yield je.createPost({area:"sports",authorId:v.id,authorName:v.name||"Match Organizer",authorAvatar:`https://i.pravatar.cc/150?u=${v.id}`,title:`ðŸŽ¯ ${f} - Join Us Now!`,content:`ðŸ“ ${(t==null?void 0:t.name)||"Venue"}, ${(t==null?void 0:t.location)||"Location"}
ðŸ“… ${o} at ${j}
${t!=null&&t.sport?t.sport:"Sport"}

ðŸ‘¥ Looking for ${x}-${g} players
ðŸ’° â‚¹${p()} total (â‚¹${Math.round(p()/parseInt(x))} per person)

ðŸŽ¯ Join now! Slots filling fast! ðŸ”¥`,category:"event"}),C.success("Posted to Community! ðŸŒŸ",{description:"Your match is now visible to everyone!"})}catch(ce){console.error("Failed to post to community:",ce),C.error("Failed to post to community",{description:"Match created but could not be shared."})}C.success("Match & Group Created! ðŸŽ‰",{description:"WhatsApp-style group chat is ready for your team!"})}else C.success("Match Plan Created! ðŸŽ‰",{description:"Group chat will be created when you sign in!"})}catch(v){console.error("Error creating group chat:",v),C.success("Match Created! ðŸŽ‰",{description:"Group chat will be available soon."})}yield s(ie),setTimeout(()=>{m("sports-chat",void 0,r)},1500)}),ne=Le.filter(r=>r.name.toLowerCase().includes(S.toLowerCase())||r.sport.toLowerCase().includes(S.toLowerCase())||r.location.toLowerCase().includes(S.toLowerCase()));return X?e.jsx(_,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce shadow-lg",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-white mb-3",children:"Match Plan Created! ðŸŽ‰"}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-4 border border-white/20",children:[e.jsx("p",{className:"text-white/90 text-sm mb-2",children:"âœ“ Group chat created"}),e.jsx("p",{className:"text-white/90 text-sm mb-2",children:"âœ“ Players can join for FREE"}),e.jsx("p",{className:"text-white/90 text-sm",children:"âœ“ Payment opens after minimum players join"})]}),e.jsx("p",{className:"text-white/80 text-sm",children:"Opening group chat..."})]})})}):e.jsx(_,{children:e.jsx("div",{className:"min-h-screen p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>m("dashboard"),className:"flex items-center gap-2 text-white hover:text-white/80 transition-colors mb-6",children:[e.jsx(Ne,{className:"w-5 h-5"}),"Back to Dashboard"]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:[1,2,3,4].map(r=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${n>=r?"bg-gradient-to-r from-cyan-500 to-emerald-500 text-white":"bg-slate-200 text-slate-600"}`,children:r}),r<4&&e.jsx("div",{className:`flex-1 h-1 mx-2 transition-all ${n>r?"bg-gradient-to-r from-cyan-500 to-emerald-500":"bg-slate-200"}`})]},r))}),n===1&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-2",children:"Choose Your Turf"}),e.jsx("p",{className:"text-slate-600",children:"Select a turf where you'd like to play"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(D,{placeholder:"Search by sport, location, or turf name...",value:S,onChange:r=>K(r.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:ne.map(r=>e.jsxs("button",{onClick:()=>c(r),className:`p-4 rounded-xl border-2 transition-all text-left ${(t==null?void 0:t.id)===r.id?"border-cyan-500 bg-cyan-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx(pe,{src:r.image,alt:r.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),e.jsx("h3",{className:"mb-1",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-2",children:[e.jsx(U,{className:"w-4 h-4"}),r.location]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:r.sport}),e.jsx("span",{className:"text-sm",children:r.price})]})]},r.id))}),e.jsxs(y,{onClick:()=>i(2),disabled:!t,className:"w-full bg-gradient-to-r from-cyan-500 to-emerald-500 hover:from-cyan-600 hover:to-emerald-600 text-white gap-2",children:["Continue",e.jsx(R,{className:"w-4 h-4"})]})]}),n===2&&t&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-2",children:"Pick Date & Time"}),e.jsxs("p",{className:"text-slate-600",children:["When would you like to play at ",t.name,"?"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-3",children:"Select Date"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:a.map(r=>e.jsxs("button",{onClick:()=>d(r.date),className:`p-4 rounded-lg border-2 transition-all ${o===r.date?"border-cyan-500 bg-cyan-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx(xe,{className:"w-5 h-5 mx-auto mb-2 text-cyan-600"}),e.jsx("div",{className:"text-sm",children:r.label})]},r.date))}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-px flex-1 bg-slate-200"}),e.jsx("span",{className:"text-xs text-slate-500",children:"or pick a custom date"}),e.jsx("div",{className:"h-px flex-1 bg-slate-200"})]}),e.jsx("div",{className:"mt-3",children:e.jsx(D,{type:"date",value:o,onChange:r=>d(r.target.value),min:l,className:"w-full"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-3",children:"Select Time Slot"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:Ee.map(r=>e.jsx("button",{onClick:()=>z(r),className:`p-3 rounded-lg border-2 transition-all text-sm ${j===r?"border-cyan-500 bg-cyan-50":"border-slate-200 hover:border-slate-300"}`,children:r},r))})]})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx(y,{variant:"outline",onClick:()=>i(1),children:"Back"}),e.jsxs(y,{onClick:()=>i(3),disabled:!o||!j,className:"flex-1 bg-gradient-to-r from-cyan-500 to-emerald-500 hover:from-cyan-600 hover:to-emerald-600 text-white gap-2",children:["Continue",e.jsx(R,{className:"w-4 h-4"})]})]})]}),n===3&&t&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-2",children:"Match Details & Vibes"}),e.jsx("p",{className:"text-slate-600",children:"Tell us about your match"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2",children:"Match Title *"}),e.jsx(D,{placeholder:"e.g., Friday Football Fun or Weekend Warriors Cricket",value:f,onChange:r=>H(r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2",children:"Description (Optional)"}),e.jsx(ye,{placeholder:"Share what kind of match this will be, skill level expectations, or anything else players should know...",value:G,onChange:r=>Y(r.target.value),rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2",children:"Minimum Players *"}),e.jsx(D,{type:"number",value:x,onChange:r=>ee(r.target.value),min:"2",max:"20"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Triggers soft lock when reached"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2",children:"Maximum Players *"}),e.jsx(D,{type:"number",value:g,onChange:r=>V(r.target.value),min:"2",max:"22"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Max capacity for the match"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"mb-4",children:"Set the Vibe"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Help players know what to expect from this match"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(r=>e.jsx("button",{onClick:()=>se(r),className:`px-4 py-2 rounded-lg border-2 transition-all ${J.includes(r)?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-slate-200 hover:border-slate-300"}`,children:r},r))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-emerald-50 rounded-xl border border-cyan-200 p-6",children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-2 text-cyan-900",children:[e.jsx(I,{className:"w-5 h-5"}),"How Payment Works"]}),e.jsxs("div",{className:"space-y-3 text-sm text-cyan-800",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-cyan-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Free Joining"}),e.jsx("p",{className:"text-cyan-700",children:"Players join the group chat for free"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-cyan-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Soft Lock"}),e.jsx("p",{className:"text-cyan-700",children:"When minimum players join, group closes & payment opens"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-cyan-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Payment Window"}),e.jsx("p",{className:"text-cyan-700",children:"Players have 30-90 mins to pay their share"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-cyan-500 text-white w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 text-xs",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Hard Lock"}),e.jsx("p",{className:"text-cyan-700",children:"Unpaid players removed, final team confirmed"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-200 p-6",children:[e.jsx("h3",{className:"text-purple-900 mb-2",children:"Match Summary"}),e.jsxs("div",{className:"space-y-2 text-sm text-purple-800",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Turf:"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",(E=a.find(r=>r.date===o))==null?void 0:E.label]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",j]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Players:"})," ",x,"-",g," players"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Cost:"})," â‚¹",p()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Est. Per Player:"})," â‚¹",Math.ceil(p()/parseInt(x))," - â‚¹",Math.ceil(p()/parseInt(g))]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-300 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Me,{className:"w-6 h-6 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"ðŸ’° Clear & Transparent Pricing"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 border border-green-200",children:[e.jsxs("p",{className:"text-sm font-mono bg-green-50 p-3 rounded mb-3 text-green-900",children:[e.jsx("strong",{children:"Cost per person"})," = Total Turf Cost Ã· Number of Players"]}),e.jsxs("p",{className:"text-sm font-mono bg-green-50 p-3 rounded text-green-900",children:[e.jsx("strong",{children:"Cost per person"})," = â‚¹",p()," Ã· [Players Joining]"]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-green-900",children:"ðŸ“Š Cost Examples:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"bg-white rounded p-3 border border-green-200",children:[e.jsxs("p",{className:"text-xs text-green-600 font-semibold",children:["With ",x," players"]}),e.jsxs("p",{className:"text-lg font-bold text-green-700",children:["â‚¹",Math.round(p()/parseInt(x))]}),e.jsx("p",{className:"text-xs text-slate-500",children:"per person"})]}),e.jsxs("div",{className:"bg-white rounded p-3 border border-green-200",children:[e.jsxs("p",{className:"text-xs text-green-600 font-semibold",children:["With ",Math.round((parseInt(x)+parseInt(g))/2)," players"]}),e.jsxs("p",{className:"text-lg font-bold text-green-700",children:["â‚¹",Math.round(p()/Math.round((parseInt(x)+parseInt(g))/2))]}),e.jsx("p",{className:"text-xs text-slate-500",children:"per person"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 rounded p-3 border border-green-300",children:[e.jsxs("p",{className:"text-xs text-green-700 font-semibold",children:["With ",g," players ðŸŽ‰"]}),e.jsxs("p",{className:"text-lg font-bold text-green-800",children:["â‚¹",Math.round(p()/parseInt(g))]}),e.jsx("p",{className:"text-xs text-green-600",children:"Best value!"})]})]})]}),e.jsxs("div",{className:"bg-white border-l-4 border-green-500 p-3 rounded flex items-start gap-2",children:[e.jsx(ue,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-900 mb-1",children:"How It Works:"}),e.jsxs("p",{className:"text-xs text-green-700",children:["The exact cost per person will be determined ",e.jsx("strong",{children:"at the deadline"})," based on the final number of players. More players = lower cost for everyone! âœ¨"]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(y,{variant:"outline",onClick:()=>i(2),children:"Back"}),e.jsxs(y,{onClick:()=>i(4),disabled:!f,className:"flex-1 bg-gradient-to-r from-cyan-500 to-emerald-500 hover:from-cyan-600 hover:to-emerald-600 text-white gap-2",children:["Continue",e.jsx(R,{className:"w-4 h-4"})]})]})]})]}),n===4&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-2",children:"Invite Players & Set Visibility"}),e.jsx("p",{className:"text-slate-600",children:"Choose who can discover and join your match"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-300 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(I,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"â° Deadline & Reminders"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsxs("p",{className:"text-sm text-blue-900 mb-2",children:[e.jsx("strong",{children:"Payment Deadline:"})," 5 minutes before match time"]}),e.jsx("p",{className:"text-xs text-blue-700",children:"You'll receive automatic reminders at:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsx(k,{variant:"outline",className:"text-blue-700 border-blue-300 bg-blue-50",children:"ðŸ“… 7 days before"}),e.jsx(k,{variant:"outline",className:"text-blue-700 border-blue-300 bg-blue-50",children:"ðŸ“… 3 days before"}),e.jsx(k,{variant:"outline",className:"text-blue-700 border-blue-300 bg-blue-50",children:"ðŸ”” 1 day before"}),e.jsx(k,{variant:"outline",className:"text-blue-700 border-blue-300 bg-blue-50",children:"â° Hourly (last day)"})]})]}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 rounded",children:e.jsxs("p",{className:"text-xs text-blue-800",children:["ðŸ’¡ ",e.jsx("strong",{children:"Pro Tip:"})," Set notifications on your phone so you never miss a payment deadline!"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"mb-4",children:"Payment Method"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Choose how players will handle payment"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>B("5-step"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${T==="5-step"?"border-cyan-500 bg-cyan-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-100 to-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(I,{className:"w-5 h-5 text-cyan-600"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"mb-1 flex items-center gap-2",children:["5-Step Payment Process",e.jsx(k,{className:"bg-cyan-500",children:"Recommended"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Free to join â†’ Soft lock at min players â†’ Payment window â†’ Hard lock"}),e.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[e.jsx("li",{children:"âœ“ Players join for free initially"}),e.jsx("li",{children:"âœ“ Payment only when minimum players reached"}),e.jsx("li",{children:"âœ“ No-shows automatically removed"}),e.jsx("li",{children:"âœ“ Split cost equally among confirmed players"})]})]})]})}),e.jsx("button",{onClick:()=>B("direct"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${T==="direct"?"border-emerald-500 bg-emerald-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-100 to-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(we,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1",children:"Direct Payment Booking"}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Pay full amount upfront to confirm booking immediately"}),e.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[e.jsx("li",{children:"âœ“ Instant booking confirmation"}),e.jsx("li",{children:"âœ“ Turf reserved immediately"}),e.jsx("li",{children:"âœ“ Other players can join for free or share cost"}),e.jsx("li",{children:"âœ“ Best for organizing with committed group"})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"mb-4",children:"Match Visibility"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Who should be able to see and join your match?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>$("community"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${u==="community"?"border-cyan-500 bg-cyan-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-100 to-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ge,{className:"w-5 h-5 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1",children:"Community Wide"}),e.jsx("p",{className:"text-sm text-slate-600",children:"All GameSetGo members can discover and request to join"})]})]})}),e.jsx("button",{onClick:()=>$("nearby"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${u==="nearby"?"border-emerald-500 bg-emerald-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-100 to-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(U,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1",children:"Nearby Only (Within 5km)"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Only members near ",t==null?void 0:t.location," can see this match"]})]})]})}),e.jsx("button",{onClick:()=>$("private"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${u==="private"?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(W,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1",children:"Private (Invite Only)"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Only invited players can see and join this match"})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"mb-4",children:"Invite Players by Email (Optional)"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Invite specific people to join your match"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(D,{type:"email",placeholder:"Enter email address",value:M,onChange:r=>O(r.target.value),onKeyPress:r=>r.key==="Enter"&&L()}),e.jsx(y,{onClick:L,variant:"outline",children:e.jsx(De,{className:"w-4 h-4"})})]}),b.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:[b.length," ",b.length===1?"person":"people"," invited"]}),b.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsx("span",{children:r}),e.jsx("button",{onClick:()=>ae(r),className:"text-slate-400 hover:text-red-600",children:e.jsx(W,{className:"w-4 h-4"})})]},r))]})]}),u!=="private"&&e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-emerald-50 rounded-xl border border-cyan-200 p-6",children:[e.jsx("h3",{className:"text-cyan-900 mb-2",children:u==="community"?"Community Discovery":"Local Discovery"}),e.jsx("p",{className:"text-cyan-800",children:u==="community"?"Your match will appear in the community feed and match finder for all members. Others can request to join based on shared values and interests.":"Your match will be visible only to community members within 5km of the turf location. Perfect for building strong local connections!"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(y,{variant:"outline",onClick:()=>i(3),children:"Back"}),e.jsxs(y,{onClick:re,disabled:u==="private"&&b.length===0,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white gap-2",children:[e.jsx(ke,{className:"w-4 h-4"}),"Create Match Plan"]})]})]})]})]})]})})})}export{at as CreateMatchPlan};
