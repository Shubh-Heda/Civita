var _=Object.defineProperty,A=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var v=(r,s,a)=>s in r?_(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a,h=(r,s)=>{for(var a in s||(s={}))S.call(s,a)&&v(r,a,s[a]);if(b)for(var a of b(s))P.call(s,a)&&v(r,a,s[a]);return r},p=(r,s)=>A(r,L(s));import{r as o,j as e}from"./ui-vendor-nuurtrVt.js";import{m as f,B as E,X as R,e as I,g as B,H as F,U}from"./index-DvbzyI8D.js";import{B as y}from"./bell-BkgT9SpE.js";import{C as V}from"./check-Bc9x7qPW.js";import{M as $}from"./map-pin-CW14yjCe.js";import{M as q}from"./message-circle-CDQitmPf.js";import{A as J}from"./award-riBKoavj.js";import{C as H}from"./credit-card-DuYv87Jy.js";import{A as O}from"./index-B8gLKG9C.js";function te({onNavigate:r,category:s="sports"}){const[a,m]=o.useState(!1),[c,d]=o.useState([]),u=o.useRef(null);o.useEffect(()=>{const t=[{id:"1",type:"match_invite",title:"New Match Invite",message:"Rahul invited you to Saturday Football at Sky Sports Arena",timestamp:new Date(Date.now()-3e5),read:!1,actionLabel:"View Match",actionUrl:"chat"},{id:"2",type:"payment_reminder",title:"Payment Due Soon",message:"Pay â‚¹150 for Saturday Football - Payment window closes in 30 mins",timestamp:new Date(Date.now()-9e5),read:!1,actionLabel:"Pay Now"},{id:"3",type:"achievement",title:"ðŸ† Achievement Unlocked!",message:'You earned "Early Bird" - Joined 5 matches on time',timestamp:new Date(Date.now()-36e5),read:!1,actionLabel:"View Achievements"},{id:"4",type:"friend_request",title:"New Friend Request",message:"Priya Desai wants to connect with you",timestamp:new Date(Date.now()-72e5),read:!0,actionLabel:"View Profile"},{id:"5",type:"match_update",title:"Match is Filling Up!",message:"Saturday Football now has 8/10 players. Join before it fills up!",timestamp:new Date(Date.now()-108e5),read:!0,actionLabel:"Join Match"},{id:"6",type:"gratitude",title:"ðŸ’ Someone appreciated you!",message:'Amit sent you gratitude: "Great teamwork today!"',timestamp:new Date(Date.now()-864e5),read:!0,actionLabel:"View"}];d(t)},[]),o.useEffect(()=>{function t(n){u.current&&!u.current.contains(n.target)&&m(!1)}return a&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[a]);const l=c.filter(t=>!t.read).length,N=t=>{d(n=>n.map(i=>i.id===t?p(h({},i),{read:!0}):i))},j=()=>{d(t=>t.map(n=>p(h({},n),{read:!0})))},k=t=>{d(n=>n.filter(i=>i.id!==t))},D=t=>{switch(t){case"match_invite":return U;case"friend_request":return F;case"payment_reminder":return H;case"achievement":return J;case"match_update":return B;case"chat_message":return q;case"gratitude":return I;case"coaching":return $;default:return y}},C=t=>{switch(t){case"match_invite":return"bg-cyan-100 text-cyan-600";case"friend_request":return"bg-pink-100 text-pink-600";case"payment_reminder":return"bg-orange-100 text-orange-600";case"achievement":return"bg-purple-100 text-purple-600";case"match_update":return"bg-emerald-100 text-emerald-600";case"chat_message":return"bg-blue-100 text-blue-600";case"gratitude":return"bg-yellow-100 text-yellow-600";default:return"bg-slate-100 text-slate-600"}},M=t=>{const i=new Date().getTime()-t.getTime(),x=Math.floor(i/6e4),g=Math.floor(i/36e5),w=Math.floor(i/864e5);return x<1?"Just now":x<60?`${x}m ago`:g<24?`${g}h ago`:w<7?`${w}d ago`:t.toLocaleDateString()};return e.jsxs("div",{ref:u,className:"relative",children:[e.jsxs("button",{onClick:()=>m(!a),className:"relative p-2 hover:bg-slate-100 rounded-lg transition-colors",children:[e.jsx(y,{className:"w-5 h-5 text-slate-700"}),l>0&&e.jsx(f.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white",children:l>9?"9+":l})})]}),e.jsx(O,{children:a&&e.jsxs(f.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center justify-between bg-gradient-to-r from-slate-50 to-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900",children:"Notifications"}),l>0&&e.jsxs("p",{className:"text-xs text-slate-500",children:[l," unread"]})]}),l>0&&e.jsxs(E,{variant:"ghost",size:"sm",onClick:j,className:"text-xs text-cyan-600 hover:text-cyan-700 hover:bg-cyan-50",children:[e.jsx(V,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-[32rem] overflow-y-auto",children:c.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(y,{className:"w-8 h-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 mb-1",children:"No notifications yet"}),e.jsx("p",{className:"text-xs text-slate-500",children:"We'll notify you when something happens"})]}):e.jsx("div",{className:"divide-y divide-slate-100",children:c.map(t=>{const n=D(t.type);return e.jsx(f.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`p-4 hover:bg-slate-50 transition-colors group ${t.read?"":"bg-cyan-50/30"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${C(t.type)} flex items-center justify-center flex-shrink-0`,children:e.jsx(n,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm text-slate-900",children:t.title}),!t.read&&e.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full flex-shrink-0 mt-1"})]}),e.jsx("p",{className:"text-xs text-slate-600 mb-2 leading-relaxed",children:t.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-500",children:M(t.timestamp)}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.actionLabel&&e.jsx("button",{onClick:()=>{N(t.id),m(!1)},className:"text-xs text-cyan-600 hover:text-cyan-700 hover:underline",children:t.actionLabel}),e.jsx("button",{onClick:()=>k(t.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-slate-200 rounded",children:e.jsx(R,{className:"w-3 h-3 text-slate-500"})})]})]})]})]})},t.id)})})}),c.length>0&&e.jsx("div",{className:"px-4 py-3 border-t border-slate-200 bg-slate-50",children:e.jsx("button",{className:"w-full text-center text-xs text-cyan-600 hover:text-cyan-700 hover:underline",children:"View All Notifications"})})]})})]})}export{te as N};
